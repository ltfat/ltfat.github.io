<!DOCTYPE html>
<html lang="en">
<head class="include" file="../../include/header.html">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta NAME="keywords" CONTENT="gabor, signal processing, matlab,
octave"/>
<title>Phase Vocoder Done Right</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="../../include/style.css" type="text/css">
<link rel="stylesheet" href="../../include/highlight.css" type="text/css">
<link rel="stylesheet" href="ltfatnote040.css">
</head>

<!-- body must stay hidden until all include parts are loaded -->
<body style="display:none;">
<!-- Wrap the content into responsive container --!>
<div class="container">
<!-- Include main navigation -->
<div class="masthead include" file="../../include/mainnav.html">
</div>
<div class="row">

<div class="page-header">
    <h1>Phase Vocoder Done Right</h1>
    Zdeněk Průša and Nicki Holighaus
</div>
<div class="well">
<strong>Abstract:</strong>
<p>
The phase vocoder (PV) is a widely spread technique
for processing audio signals. It employs a short-time Fourier
transform (STFT) analysis-modify-synthesis loop and is typically
used for time-scaling of signals by means of using different time
steps for STFT analysis and synthesis. The main challenge of PV
used for that purpose is the correction of the STFT phase. In this
paper, we introduce a novel method for phase correction based
on phase gradient estimation and its integration. The method
does not require explicit peak picking and tracking nor does
it require detection of transients and their separate treatment.
Yet, the method does not suffer from the typical phase vocoder
artifacts even for extreme time stretching factors.
</p>
<p>
The preprint is available here <a href="../ltfatnote050.pdf">here</a>.
</p>
</div>

<div class="alert alert-warning" role="alert">
<strong>Demo:</strong>
<p>
The following archive <a href="pvdoneright.zip">pvdoneright.zip</a>[1.4MB]
contains a win32 executable pvdoneright.exe
which is an audio player allowing changing the playback tempo in the range 10%-1000% 
on-the-fly using the proposed algorithm.
<span class="bg-danger">Now includes pitch-shifting.</span>
Please read README before running the demo.
</p>
<p class="bg-danger">
The source code is now available <a href="https://github.com/ltfat/pvdoneright">here</a>.
</p>
</div>

<div class="stickycont well" id="table2back">
<strong>Sound examples:</strong>
        <p>
        Sound examples used in the listening test are available in Table 1.
        The following algorithms and software were used in the comparison:
        <ul>
            <li><b>Prop.</b> Proposed method</li>
            <li><b>PV</b> Classical PV</li>
            <li><b>EL</b> élastique PRO</li>
            <li><b>ME</b> melodyne4 4.1.0</li>
            <li><b>IR</b> IRCAM Lab TS 1.0.11</li>
        </ul>
        </p>
        <p>
        The playback can be started by selecting one of the table cells 
        (the cells turn yellow when the cursor hovers over them).
        All the files were compressed by oggenc from vorbis-tools 1.4.0 with
        the default settings.
        Your browser must support HTML5 audio player
        and it must be able to decode ogg files. Alternativelly, the file
        path is shown below the player and it can be downloaded by Save Link As ...
        </p>
        <div class="playerdiv" id="table2">
            <table border="0" cellspacing="5" cellpadding="0">
                <tr><th colspan="9">Table 1: Time stretched examples<br/>
                        <audio id="audplayer2" controls style="width:90%" preload="none">
                            <!-- <source src="sqam/01.ogg" type="audio/ogg"> -->
                            Warning! Your browser does not support HTML5 audio player.
                            You will have to download and play the files yourself.
                        </audio><br/>
                        Loaded file: <span id="loadedfile2">None</span>
                </th></tr>
            </table>
        </div>

        <table class="comptable small text-center errtable" cellspacing="0" cellpadding="0"
            id="errtable2">
            <tr><td></td>
<td colspan="5" align="center">Stretching factor 2.0</td>
<td colspan="5" align="center">Stretching factor 1.5</td>
</tr>
<tr>
<td>Original</td>
<td><b>Prop.</b></td> <td><b>PV</b></td> <td><b>EL</b></td> <td><b>ME</b></td> <td><b>IR</b></td>
<td><b>Prop.</b></td> <td><b>PV</b></td> <td><b>EL</b></td> <td><b>ME</b></td>
<td><b>IR</b></td>
</tr>
<tr>
<td class="clickable"data-file="sounds/CastanetsViolin.ogg">CastViolin</td>
<td class="clickable"data-file="sounds/CastanetsViolin_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/DrumSolo.ogg">DrumSolo</td>
<td class="clickable"data-file="sounds/DrumSolo_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/Latino.ogg">Latino</td>
<td class="clickable"data-file="sounds/Latino_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/musetta_ophelia.ogg">Musetta</td>
<td class="clickable"data-file="sounds/musetta_ophelia_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/RadetzkyMarch.ogg">March</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/06-gab.ogg">PeterGabriel</td>
<td class="clickable"data-file="sounds/06-gab_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_1.50_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/EddieRabbit4s.ogg">EddieRabbit</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_2.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_2.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_2.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_2.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_2.00_IRCAM.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_1.50_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_1.50_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_1.50_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_1.50_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_1.50_IRCAM.ogg">[play]</td>
</tr>
</table>

<p></p>
<p>
The following table presents
additional sound examples for an extreme stretching factor 4:
</p>
        <div class="playerdiv" id="table3">
            <table border="0" cellspacing="5" cellpadding="0">
                <tr><th colspan="9">Table 2: Extreme examples<br/>
                        <audio id="audplayer3" controls style="width:90%" preload="none">
                            <!-- <source src="sqam/01.ogg" type="audio/ogg"> -->
                            Warning! Your browser does not support HTML5 audio player.
                            You will have to download and play the files yourself.
                        </audio><br/>
                        Loaded file: <span id="loadedfile3">None</span>
                </th></tr>
            </table>
        </div>

        <table class="comptable small text-center errtable" cellspacing="0" cellpadding="0"
            id="errtable3">
            <tr><td></td>
<td colspan="5" align="center">Stretching factor 4.0</td>
</tr>
<tr>
<td>Original</td>
<td><b>Prop.</b></td> <td><b>PV</b></td> <td><b>EL</b></td> <td><b>ME</b></td> <td><b>IR</b></td>
</tr>
<tr>
<td class="clickable"data-file="sounds/CastanetsViolin.ogg">CastViolin</td>
<td class="clickable"data-file="sounds/CastanetsViolin_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/CastanetsViolin_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/DrumSolo.ogg">DrumSolo</td>
<td class="clickable"data-file="sounds/DrumSolo_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/DrumSolo_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/Latino.ogg">Latino</td>
<td class="clickable"data-file="sounds/Latino_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/Latino_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/musetta_ophelia.ogg">Musetta</td>
<td class="clickable"data-file="sounds/musetta_ophelia_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/musetta_ophelia_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/RadetzkyMarch.ogg">March</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/RadetzkyMarch_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/06-gab.ogg">PeterGabriel</td>
<td class="clickable"data-file="sounds/06-gab_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/06-gab_4.00_IRCAM.ogg">[play]</td>
</tr>
<tr>
<td class="clickable"data-file="sounds/EddieRabbit4s.ogg">EddieRabbit</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_4.00_RTPGHI.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_4.00_PV.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_4.00_ELASTIQUE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_4.00_MELODYNE.ogg">[play]</td>
<td class="clickable"data-file="sounds/EddieRabbit4s_4.00_IRCAM.ogg">[play]</td>
</tr>
</table>
</div>
</div>


        <div class="include" file="../../include/footer.html"></div>
    </div>
</div>
<!-- These two have to be here to dynamically load the included parts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="../../js/ltfat.js" type="text/javascript"></script>
<script src="../include/lookup.js" type="text/javascript"></script>
<script src="../include/jumplist.js" type="text/javascript"></script>
<script src="jquery.sticky-kit.min.js"></script>
<script src="ltfatnote040.js"></script>
</body>
</html>


